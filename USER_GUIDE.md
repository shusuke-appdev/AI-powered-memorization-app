# AI 暗記カード ユーザーガイド

このガイドでは、AI暗記カードアプリの使い方をゼロから丁寧に説明します。

---

## 目次
1. [はじめに](#はじめに)
2. [アカウント作成とログイン](#アカウント作成とログイン)
3. [APIキーの取得と設定](#apiキーの取得と設定)
4. [カードの作成](#カードの作成)
5. [カードで復習する](#カードで復習する)
6. [カードを管理する](#カードを管理する)
7. [スマホからアクセスする（デプロイ）](#スマホからアクセスするデプロイ)
8. [よくある質問](#よくある質問)

---

## はじめに

### このアプリでできること
- 覚えたいテキストから**穴埋め式の暗記カード**を作成
- **AI**がテキストを分析して、穴埋め箇所を提案
- 科学的な復習スケジュール（**SM-2アルゴリズム**）で効率的に暗記

### 必要なもの
- インターネット接続
- Webブラウザ（Chrome、Safari、Edge など）
- Google アカウント（APIキー取得に必要）

---

## アカウント作成とログイン

### 新規登録

1. アプリのURLにアクセス
2. **「新規登録」**タブをクリック
3. ユーザー名（2文字以上）とパスワード（4文字以上）を入力
4. **「登録」**ボタンをクリック

### ログイン

1. **「ログイン」**タブをクリック
2. ユーザー名とパスワードを入力
3. 「ログイン状態を保持する」にチェック（30日間有効、推奨）
4. **「ログイン」**ボタンをクリック

---

## APIキーの取得と設定

カードを作成するには、Google の AI（Gemini）を使うための「APIキー」が必要です。**無料**で取得できます。

### 取得手順

1. **https://aistudio.google.com/** にアクセス
2. Googleアカウントでログイン
3. **「Get API key」**をクリック
4. **「Create API key」**をクリック
5. 表示されたキー（`AIza...`で始まる文字列）をコピー

### アプリに設定

1. アプリの**「⚙️ APIキー設定」**を開く
2. コピーしたAPIキーを貼り付け
3. **「APIキーを保存」**をクリック
4. 「✅ APIキーが設定されています」と表示されたら完了

---

## カードの作成

1. **「📝 カードを追加」**タブをクリック
2. **カテゴリを選択**（民法、商法、刑法など）
3. **タイトルを入力**（オプション、例：「不法行為」）
4. **テキストを入力**（覚えたい文章をコピペ）
5. **「📝 テキストを解析」**をクリック
6. 穴埋めにしたい箇所を**クリックして選択**（灰色→緑色）
   - 迷ったら**「🤖 AIに提案させる」**を使用
7. **「✨ カード生成」**をクリック
8. プレビューを確認し、**「💾 デッキに保存」**をクリック

---

## カードで復習する

1. **「📚 復習する」**タブをクリック
2. 問題を読み、「______」に入る答えを考える
3. **「答えを見る」**をクリック
4. 覚えていた度合いを評価：

| ボタン | いつ使う？ | 次の復習 |
|--------|----------|---------|
| **忘れた (0)** | 完全に忘れていた | 翌日 |
| **難しい (3)** | かなり苦労して思い出した | 数日後 |
| **普通 (4)** | 少し考えて思い出せた | 約1週間後 |
| **簡単 (5)** | すぐに思い浮かんだ | 2週間以上後 |

> **ポイント**: 正直に評価することで、忘れかけた頃に最適なタイミングで復習できます。

---

## カードを管理する

1. **「🗂️ カード管理」**タブをクリック
2. カテゴリタブで絞り込み
3. 🔍 検索ボックスでキーワード検索
4. 各カードの「問題」「答え」「カテゴリ」を編集 → **「更新」**で保存
5. 不要なカードは**「🗑️ このカードを削除」**で削除
6. タイトル単位で一括削除も可能（**「🗑️ 全削除」**）

---

## スマホからアクセスする（デプロイ）

アプリをオンラインに公開すると、スマホからも24時間アクセスできます。**完全無料**です。

### クイックスタート（30分）

#### ステップ1: GitHubアカウント作成（5分）
1. https://github.com → **「Sign up」**
2. メールアドレス、パスワード、ユーザー名を入力
3. メール認証を完了
4. **Free（無料）**プランを選択

#### ステップ2: コードをアップロード（10分）
1. GitHub右上の **「+」** → **「New repository」**
2. 名前: `memorization-app`、**Public** を選択
3. **「Create repository」**
4. **「uploading an existing file」**をクリック
5. 以下のファイルをドラッグ&ドロップ：
   - ✅ `app.py`、`gemini_client.py`、`storage.py`、`utils.py`、`auth.py`、`database.py`
   - ✅ `requirements.txt`、`README.md`、`.gitignore`
   - ✅ `.streamlit` フォルダ
   - ❌ アップロード**しない**: `venv`、`flashcards.json`、`__pycache__`
6. **「Commit changes」**

#### ステップ3: デプロイ（15分）
1. https://share.streamlit.io → **「Sign up with GitHub」**
2. **「New app」**
3. 設定:
   - Repository: `あなたのユーザー名/memorization-app`
   - Branch: `main`
   - Main file: `app.py`
4. **「Advanced settings」** → **「Secrets」**タブ:
   ```toml
   SUPABASE_URL = "https://xxx.supabase.co"
   SUPABASE_KEY = "eyJ..."
   ```
5. **「Deploy!」**

#### 完成！
数分後にURLが発行されます：`https://xxxxxxx.streamlit.app`

スマホでブックマーク、またはホーム画面に追加してネイティブアプリ風に使えます。

### アップデート方法
1. GitHubでファイルを開いて鉛筆アイコン（Edit）をクリック
2. 編集して **「Commit changes」**
3. Streamlit Cloudが自動的に再デプロイ（1-2分）

---

## よくある質問

### データは保存されますか？
はい。クラウドに保存されるので、ブラウザを閉じてもデータは消えません。別のデバイスからも同じアカウントでアクセスできます。

### 他の人に自分のカードを見られますか？
いいえ。各ユーザーのデータは独立しています。

### オフラインで使えますか？
いいえ。インターネット接続が必要です。

### APIの無料枠を超えたと表示されました
しばらく（数分〜数時間）待ってから再試行、または新しいAPIキーを取得して設定してください。

### パスワードを忘れました
現在パスワードリセット機能はありません。新しいアカウントを作成してください。

### デプロイが失敗する
- **Logs** を確認してエラーメッセージを見る
- APIキー・Supabase接続情報が正しく設定されているか確認
- `requirements.txt` がアップロードされているか確認

---

## お問い合わせ

このアプリについてのご質問・ご要望は、管理者にお問い合わせください。
